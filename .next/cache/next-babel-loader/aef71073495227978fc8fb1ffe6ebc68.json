{"ast":null,"code":"import { createApi } from \"unsplash-js\";\n\nasync function Background(req, res) {\n  const unsplash = createApi({\n    accessKey: \"DAQrUWKCxhZMjDH2S_X0sFv27A3OO0X3usud_ryy2CM\"\n  });\n  let q = await unsplash.search.getPhotos({\n    query: \"technology\"\n  });\n  let urls = q.response.results.map(e => e.urls);\n  const index = ~~(Math.random() * urls.length - 1);\n  const image = urls[index];\n  const response = {\n    status: q.status,\n    urls: image\n  };\n  res.status(q.status).json(response);\n}\n\nexport default Background;","map":{"version":3,"sources":["/home/jheyson/Dev/Projects/JheysonDev/website/pages/api/background.ts"],"names":["createApi","Background","req","res","unsplash","accessKey","q","search","getPhotos","query","urls","response","results","map","e","index","Math","random","length","image","status","json"],"mappings":"AACA,SAASA,SAAT,QAA0B,aAA1B;;AAOA,eAAeC,UAAf,CAA0BC,GAA1B,EAA+CC,GAA/C,EAAqE;AACnE,QAAMC,QAAQ,GAAGJ,SAAS,CAAC;AACzBK,IAAAA,SAAS,EAAE;AADc,GAAD,CAA1B;AAIA,MAAIC,CAAC,GAAG,MAAMF,QAAQ,CAACG,MAAT,CAAgBC,SAAhB,CAA0B;AACtCC,IAAAA,KAAK,EAAE;AAD+B,GAA1B,CAAd;AAIA,MAAIC,IAAc,GAAGJ,CAAC,CAACK,QAAF,CAAWC,OAAX,CAAmBC,GAAnB,CAAwBC,CAAD,IAAOA,CAAC,CAACJ,IAAhC,CAArB;AAEA,QAAMK,KAAK,GAAG,CAAC,EAAEC,IAAI,CAACC,MAAL,KAAgBP,IAAI,CAACQ,MAArB,GAA8B,CAAhC,CAAf;AACA,QAAMC,KAAK,GAAGT,IAAI,CAACK,KAAD,CAAlB;AAEA,QAAMJ,QAA4B,GAAG;AACnCS,IAAAA,MAAM,EAAEd,CAAC,CAACc,MADyB;AAEnCV,IAAAA,IAAI,EAAES;AAF6B,GAArC;AAKAhB,EAAAA,GAAG,CAACiB,MAAJ,CAAWd,CAAC,CAACc,MAAb,EAAqBC,IAArB,CAA0BV,QAA1B;AACD;;AAED,eAAeV,UAAf","sourcesContent":["import { NextApiRequest, NextApiResponse } from \"next\";\nimport { createApi } from \"unsplash-js\";\n\ninterface BackgroundResponse {\n  status?: number;\n  urls: string;\n}\n\nasync function Background(req: NextApiRequest, res: NextApiResponse) {\n  const unsplash = createApi({\n    accessKey: \"DAQrUWKCxhZMjDH2S_X0sFv27A3OO0X3usud_ryy2CM\",\n  });\n\n  let q = await unsplash.search.getPhotos({\n    query: \"technology\",\n  });\n\n  let urls: string[] = q.response.results.map((e) => e.urls);\n\n  const index = ~~(Math.random() * urls.length - 1);\n  const image = urls[index];\n\n  const response: BackgroundResponse = {\n    status: q.status,\n    urls: image,\n  };\n\n  res.status(q.status).json(response);\n}\n\nexport default Background;\n"]},"metadata":{},"sourceType":"module"}